<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz with Timer</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .question { margin-bottom: 15px; }
    .options label { display: block; }
    #timer { font-weight: bold; color: red; margin-bottom: 10px; }
  </style>
</head>
<body>
  <h2>Quiz</h2>

  <div id="quiz-container">
    <div id="timer">Time left: 10s</div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
    <button onclick="nextQuestion()">Next</button>
  </div>
  <textarea id="results"></textarea>
  <script>
    const questions = [
       ["Which color is the sky?(lie on this one )", ["blue", "red"]],
       ["2 + 2?(say true) )", [1,2,3,4,5]],
       ["how old are you?(lie on this one)", [23,22,30,24,25]],
       ["Which color is the sky?(true on this one )", ["blue", "red"]],
        ["2 + 2?(say lie) )", [1,2,3,4,5]],
         ["how old are you ?(say true) )", [20,23,24,22,25]]


       ["how match you like icream", [1,2,3,4]],
       ["say trueth how match you like pizza",[1,2,3,4,5]],
      ["Which color is the sky?", ["blue", "red"]],
      ["How many days in a week?", [1,2,3,4,5,6,7]],
       ["How old are you ?", [20,22,23,24,25,26,27]],
        ["rate your painting skills?", [1,2,3,4,5]]


    ];

    let current = 0;
    let countdown;
    let timeLeft = 10;
    let cords = [
        [[1], [1]]
      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[], []],

      [[], []],
      [[], []],
      [[], []],
      [[], []],
      [[],[]],
      [[],[]],
      [[],[]]
    ]
    cords[0]= [[],[]]
    console.log(cords)

    

    function showQuestion(index) {
      // Reset timer
      clearInterval(countdown);
      timeLeft = 10;
      document.getElementById("timer").textContent = `Time left: ${timeLeft}s`;
      countdown = setInterval(updateTimer, 1000);
                 
      // Show question
      document.getElementById("question").textContent = questions[index][0];
      
      // Show options (always 1â€“5)
     
   
  }

  document.addEventListener("change", (e) => {
  if (e.target.matches("input[type=radio], input[type=checkbox]")) {
    console.log("Picked:", e.target.value);

    // Example: push to cords
    if (!cords[current]) cords[current] = [[11], [1]];
    cords[current][0].push(timeLeft);
  }
});
 let mouseX = 0, mouseY = 0;
   
// Update once on first mouse move
document.addEventListener("mousemove", e => {
  mouseX = e.clientX;
  mouseY = e.clientY;
});

    function updateTimer() {
      timeLeft--;
      cords[current][1].push([mouseX, mouseY])
      document.getElementById("timer").textContent = `Time left: ${timeLeft}s`;
      if(timeLeft < 6){
         const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
     index = current
     console.log(current)
      console.log(questions[index][1])
      for (let i = 0; i <= questions[index][1].length - 1; i++) {
        const label = document.createElement("label");
        label.innerHTML = `<input type="radio" name="q${index}" value="${ questions[index][1][i]}"> ${questions[index][1][i]}`;
        optionsDiv.appendChild(label);
    }
      }
      if (timeLeft <= 0) {
        clearInterval(countdown);
        nextQuestion();
         const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
    }

      
    }

    function nextQuestion() {
      clearInterval(countdown);
      current++;
      if (current < questions.length) {
        showQuestion(current);
      } else {
        document.getElementById("quiz-container").innerHTML = "<h3>Quiz finished!</h3>";
         const jsonString = JSON.stringify(cords);

// Print the JSON string to the console
document.getElementById("results").innerHTML = jsonString;
      }
    }

    // Start quiz
    showQuestion(current);
  </script>
</body>
</html>
